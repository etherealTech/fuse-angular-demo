"use strict";(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[7133],{17133:(le,Z,r)=>{r.r(Z),r.d(Z,{FileManagerModule:()=>se});var s=r(63423),m=r(51095),u=r(76627),p=r(23017),x=r(11436),C=r(44466),e=r(37716);let h=(()=>{class t{canDeactivate(n,i,a,c){let g=c.root;for(;g.firstChild;)g=g.firstChild;return!(c.url.includes("/file-manager")&&!c.url.includes("/details"))||n.closeDrawer().then(()=>!0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),k=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["file-manager"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},directives:[s.lC],encapsulation:2,changeDetection:0}),t})();var T=r(79765),d=r(46782),y=r(26215),f=r(40205),I=r(25917),Q=r(93342),U=r(15257),w=r(88002),D=r(43190),L=r(91841);let l=(()=>{class t{constructor(n){this._httpClient=n,this._item=new y.X(null),this._items=new y.X(null)}get items$(){return this._items.asObservable()}get item$(){return this._item.asObservable()}getItems(n=null){return this._httpClient.get("api/apps/file-manager",{params:{folderId:n}}).pipe((0,Q.b)(i=>{this._items.next(i)}))}getItemById(n){return this._items.pipe((0,U.q)(1),(0,w.U)(i=>{const a=[...i.folders,...i.files].find(c=>c.id===n)||null;return this._item.next(a),a}),(0,D.w)(i=>i?(0,I.of)(i):(0,f._)("Could not found the item with id of "+n+"!")))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(L.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=r(91812),_=r(38583);const B=["matDrawer"];function Y(t,o){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.AsE(" ",n.items.folders.length," folders, ",n.items.files.length," files ")}}const F=function(t){return["/apps/file-manager/folders/",t]};function O(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"a",17),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,F,n.id)),e.xp6(1),e.Oqu(n.name)}}function R(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.name)}}function S(t,o){1&t&&(e.ynx(0),e.TgZ(1,"div",18),e._uU(2,"/"),e.qZA(),e.BQk())}function N(t,o){if(1&t&&(e.ynx(0),e.YNc(1,O,3,4,"ng-container",9),e.YNc(2,R,3,1,"ng-container",9),e.YNc(3,S,3,0,"ng-container",9),e.BQk()),2&t){const n=o.last;e.xp6(1),e.Q6J("ngIf",!n),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",!n)}}const j=function(){return["/apps/file-manager"]};function z(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",16),e.TgZ(2,"a",17),e._uU(3,"Home "),e.qZA(),e.TgZ(4,"div",18),e._uU(5,"/"),e.qZA(),e.YNc(6,N,4,3,"ng-container",19),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("routerLink",e.DdM(3,j)),e.xp6(4),e.Q6J("ngForOf",n.items.path)("ngForTrackBy",n.trackByFn)}}function $(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",32),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.contents)}}const A=function(t){return["./details/",t]};function G(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",23),e.TgZ(2,"a",24),e.NdJ("click",function(i){return i.preventDefault()}),e._UZ(3,"mat-icon",25),e.qZA(),e.TgZ(4,"a",26),e.TgZ(5,"div",27),e.TgZ(6,"div",28),e._UZ(7,"mat-icon",29),e.qZA(),e.qZA(),e.TgZ(8,"div",30),e.TgZ(9,"div",31),e._uU(10),e.qZA(),e.YNc(11,$,3,1,"ng-container",9),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(7,A,n.id)),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:information-circle"),e.xp6(1),e.Q6J("routerLink",e.VKq(9,F,n.id)),e.xp6(3),e.Q6J("svgIcon","iconsmind:folder"),e.xp6(2),e.Q6J("matTooltip",n.name),e.xp6(1),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",n.contents)}}function X(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e.TgZ(2,"div",21),e._uU(3,"Folders"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,G,12,11,"ng-container",19),e.qZA(),e.qZA(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",n.items.folders)("ngForTrackBy",n.trackByFn)}}function K(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",32),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.contents)}}function W(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"a",33),e.TgZ(2,"div",27),e.TgZ(3,"div",28),e.TgZ(4,"div",34),e._UZ(5,"mat-icon",29),e.TgZ(6,"div",35),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",30),e.TgZ(9,"div",31),e._uU(10),e.qZA(),e.YNc(11,K,3,1,"ng-container",9),e.qZA(),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(16,A,n.id)),e.xp6(4),e.Q6J("svgIcon","iconsmind:file"),e.xp6(1),e.ekj("bg-red-600","PDF"===n.type)("bg-blue-600","DOC"===n.type)("bg-green-600","XLS"===n.type)("bg-gray-600","TXT"===n.type)("bg-amber-600","JPG"===n.type),e.xp6(1),e.hij(" ",n.type.toUpperCase()," "),e.xp6(2),e.Q6J("matTooltip",n.name),e.xp6(1),e.Oqu(n.name),e.xp6(1),e.Q6J("ngIf",n.contents)}}function E(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e.TgZ(2,"div",21),e._uU(3,"Files"),e.qZA(),e.TgZ(4,"div",22),e.YNc(5,W,12,18,"ng-container",19),e.qZA(),e.qZA(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",n.items.files)("ngForTrackBy",n.trackByFn)}}function H(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",20),e.YNc(2,X,6,2,"ng-container",9),e.YNc(3,E,6,2,"ng-container",9),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.items.folders.length>0),e.xp6(1),e.Q6J("ngIf",n.items.files.length>0)}}function P(t,o){1&t&&(e.TgZ(0,"div",36),e._UZ(1,"mat-icon",37),e.TgZ(2,"div",38),e._uU(3,"There are no items!"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("svgIcon","iconsmind:file_hide"))}let v=(()=>{class t{constructor(n,i,a,c,g){this._activatedRoute=n,this._changeDetectorRef=i,this._router=a,this._fileManagerService=c,this._fuseMediaWatcherService=g,this._unsubscribeAll=new T.xQ}ngOnInit(){this._fileManagerService.items$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{this.items=n,this._changeDetectorRef.markForCheck()}),this._fileManagerService.item$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{this.selectedItem=n,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{this.drawerMode=n.matches?"side":"over",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(n,i){return i.id||n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.gz),e.Y36(e.sBO),e.Y36(s.F0),e.Y36(l),e.Y36(J.T))},t.\u0275cmp=e.Xpm({type:t,selectors:[["file-manager-list"]],viewQuery:function(n,i){if(1&n&&e.Gf(B,7),2&n){let a;e.iGM(a=e.CRH())&&(i.matDrawer=a.first)}},decls:22,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-100","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],["noItems",""],[1,"flex","items-center","space-x-2"],[1,"text-primary","cursor-pointer",3,"routerLink"],[1,""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-6","md:p-8","space-y-8"],[1,"font-medium"],[1,"flex","flex-wrap","-m-2","mt-2"],[1,"relative","w-40","h-40","m-2","p-4","shadow","rounded-2xl","bg-card"],["mat-icon-button","",1,"absolute","z-20","top-1.5","right-1.5","w-8","h-8","min-h-8",3,"routerLink","click"],[1,"icon-size-5",3,"svgIcon"],[1,"z-10","absolute","inset-0","flex","flex-col","p-4","cursor-pointer",3,"routerLink"],[1,"aspect-w-9","aspect-h-6"],[1,"flex","items-center","justify-center"],[1,"icon-size-14","text-hint",3,"svgIcon"],[1,"flex","flex-col","flex-auto","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"text-secondary","truncate"],[1,"flex","flex-col","w-40","h-40","m-2","p-4","shadow","rounded-2xl","cursor-pointer","bg-card",3,"routerLink"],[1,"relative"],[1,"absolute","left-0","bottom-0","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-drawer-container",1),e.NdJ("backdropClick",function(){return i.onBackdropClicked()}),e.TgZ(2,"mat-drawer",2,3),e._UZ(4,"router-outlet"),e.qZA(),e.TgZ(5,"mat-drawer-content",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div"),e.TgZ(9,"div",7),e._uU(10,"File Manager"),e.qZA(),e.TgZ(11,"div",8),e.YNc(12,Y,2,2,"ng-container",9),e.YNc(13,z,7,4,"ng-container",9),e.qZA(),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"button",11),e._UZ(16,"mat-icon",12),e.TgZ(17,"span",13),e._uU(18,"Upload file"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,H,4,2,"ng-container",14),e.YNc(20,P,4,1,"ng-template",null,15,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const a=e.MAs(21);e.xp6(2),e.Q6J("mode",i.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.xp6(10),e.Q6J("ngIf",!i.items.path.length),e.xp6(1),e.Q6J("ngIf",i.items.path.length),e.xp6(2),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(3),e.Q6J("ngIf",i.items&&(i.items.folders.length>0||i.items.files.length>0))("ngIfElse",a)}},directives:[p.kh,p.jA,s.lC,p.LW,_.O5,m.lW,u.Hw,s.yS,_.sg,m.zs,x.gM],encapsulation:2,changeDetection:0}),t})();function V(t,o){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","iconsmind:folder"))}function ee(t,o){1&t&&(e.ynx(0),e._UZ(1,"mat-icon",23),e.BQk()),2&t&&(e.xp6(1),e.Q6J("svgIcon","iconsmind:file"))}function te(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",12),e.TgZ(2,"div",13),e._uU(3,"Contents"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(5),e.Oqu(n.item.contents)}}function ne(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(n.item.description)}}function ie(t,o){1&t&&(e.ynx(0),e.TgZ(1,"div",24),e._uU(2,"Click here to add a description"),e.qZA(),e.BQk())}const oe=function(){return["../../"]};let M=(()=>{class t{constructor(n,i,a){this._changeDetectorRef=n,this._fileManagerListComponent=i,this._fileManagerService=a,this._unsubscribeAll=new T.xQ}ngOnInit(){this._fileManagerListComponent.matDrawer.open(),this._fileManagerService.item$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(n=>{this._fileManagerListComponent.matDrawer.open(),this.item=n,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}closeDrawer(){return this._fileManagerListComponent.matDrawer.close()}trackByFn(n,i){return i.id||n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(v),e.Y36(l))},t.\u0275cmp=e.Xpm({type:t,selectors:[["file-manager-details"]],decls:51,vars:28,consts:[[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center","justify-end"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"aspect-w-9","aspect-h-6","mt-8"],[1,"flex","items-center","justify-center","border","rounded-lg","bg-gray-50","dark:bg-card"],[4,"ngIf"],[1,"flex","flex-col","items-start","mt-8"],[1,"text-xl","font-medium"],[1,"mt-1","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"text-lg","font-medium","mt-8"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"flex","items-center","justify-between","mt-8"],[1,"text-lg","font-medium"],["mat-icon-button",""],[1,"icon-size-5",3,"svgIcon"],[1,"flex","mt-2","border-t"],[1,"py-3"],[1,"grid","grid-cols-2","gap-4","w-full","mt-8"],["mat-flat-button","",1,"flex-auto",3,"color"],["mat-stroked-button","",1,"flex-auto"],[1,"icon-size-14","text-hint",3,"svgIcon"],[1,"italic","text-secondary"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e._UZ(3,"mat-icon",3),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.YNc(6,V,2,1,"ng-container",6),e.YNc(7,ee,2,1,"ng-container",6),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e._uU(14,"Information"),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e.TgZ(17,"div",13),e._uU(18,"Created By"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",12),e.TgZ(22,"div",13),e._uU(23,"Created At"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"div",12),e.TgZ(27,"div",13),e._uU(28,"Modified At"),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.qZA(),e.qZA(),e.TgZ(31,"div",12),e.TgZ(32,"div",13),e._uU(33,"Size"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA(),e.qZA(),e.YNc(36,te,6,1,"ng-container",6),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"div",15),e._uU(39,"Description"),e.qZA(),e.TgZ(40,"button",16),e._UZ(41,"mat-icon",17),e.qZA(),e.qZA(),e.TgZ(42,"div",18),e.TgZ(43,"div",19),e.YNc(44,ne,3,1,"ng-container",6),e.YNc(45,ie,3,0,"ng-container",6),e.qZA(),e.qZA(),e.TgZ(46,"div",20),e.TgZ(47,"button",21),e._uU(48," Download "),e.qZA(),e.TgZ(49,"button",22),e._uU(50," Delete "),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(27,oe)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(3),e.Q6J("ngIf","folder"===i.item.type),e.xp6(1),e.Q6J("ngIf","folder"!==i.item.type),e.xp6(3),e.Oqu(i.item.name),e.xp6(1),e.ekj("bg-indigo-600","folder"===i.item.type)("bg-red-600","PDF"===i.item.type)("bg-blue-600","DOC"===i.item.type)("bg-green-600","XLS"===i.item.type)("bg-gray-600","TXT"===i.item.type)("bg-amber-600","JPG"===i.item.type),e.xp6(1),e.hij(" ",i.item.type.toUpperCase()," "),e.xp6(8),e.Oqu(i.item.createdBy),e.xp6(5),e.Oqu(i.item.createdAt),e.xp6(5),e.Oqu(i.item.modifiedAt),e.xp6(5),e.Oqu(i.item.size),e.xp6(1),e.Q6J("ngIf",i.item.contents),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(3),e.Q6J("ngIf",i.item.description),e.xp6(1),e.Q6J("ngIf",!i.item.description),e.xp6(2),e.Q6J("color","primary"))},directives:[m.lW,s.rH,u.Hw,_.O5],encapsulation:2,changeDetection:0}),t})();var b=r(5304);let re=(()=>{class t{constructor(n){this._fileManagerService=n}resolve(n,i){return this._fileManagerService.getItems()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(l))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ae=(()=>{class t{constructor(n,i){this._router=n,this._fileManagerService=i}resolve(n,i){return this._fileManagerService.getItems(n.paramMap.get("folderId")).pipe((0,b.K)(a=>{console.error(a);const c=i.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(c),(0,f._)(a)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(s.F0),e.LFG(l))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q=(()=>{class t{constructor(n,i){this._router=n,this._fileManagerService=i}resolve(n,i){return this._fileManagerService.getItemById(n.paramMap.get("id")).pipe((0,b.K)(a=>{console.error(a);const c=i.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(c),(0,f._)(a)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(s.F0),e.LFG(l))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ce=[{path:"",component:k,children:[{path:"folders/:folderId",component:v,resolve:{item:ae},children:[{path:"details/:id",component:M,resolve:{item:q},canDeactivate:[h]}]},{path:"",component:v,resolve:{items:re},children:[{path:"details/:id",component:M,resolve:{item:q},canDeactivate:[h]}]}]}];let se=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.Bz.forChild(ce),m.ot,u.Ps,p.SJ,x.AV,C.m]]}),t})()}}]);